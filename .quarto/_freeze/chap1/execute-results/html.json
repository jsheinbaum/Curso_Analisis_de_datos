{
  "hash": "182df89ed288adf76ff0c75b178ee008",
  "result": {
    "markdown": "---\ntitle: Matplotlib Demo\nauthor: Julio\ndate: 12/28/2022\nformat:\n  html:\n    code-fold: true\n---\n\n## Polar Axis\n\nFor a demonstration of a line plot on a polar axis, see @fig-polar.\n\n::: {.cell execution_count=1}\n``` {.python .cell-code}\nimport numpy as np\nimport matplotlib.pyplot as plt\ntheta = np.linspace(0, 2*np.pi, 1000)\nr = 3* np.sin(18 * theta)\nr1 = 0.5 - 0.5 * np.sin(10*theta)\nr2=0.5+0.5*np.cos(18*theta)\n#plt.polar(theta, r, 'r')\n#r = np.arange(0, 2, 0.01)\n#theta = 2 * np.pi * r\nfig, ax = plt.subplots(subplot_kw={'projection': 'polar'})\nax.plot(theta, r,'b')\nax.plot(theta, r1,'r')\nax.plot(theta, r2,'g')\nax.set_rticks([-1.0,-0.5,0.0,0.5, 1, 1.5, 2, 2.5, 3.0])\nax.grid(True)\nplt.show()\n```\n\n::: {.cell-output .cell-output-display}\n![A line plot on a polar axis](chap1_files/figure-html/fig-polar-output-1.png){#fig-polar width=445 height=438}\n:::\n:::\n\n\n## WIDGETS\n\n::: {.cell execution_count=2}\n``` {.python .cell-code}\nfrom ipyleaflet import Map, Marker, basemaps, basemap_to_tiles\nm = Map(\n  basemap=basemap_to_tiles(\n    basemaps.NASAGIBS.ModisTerraTrueColorCR, \"2023-05-27\"\n  ),\n  center=(31.8841, 243.413),\n  zoom=4\n)\nm.add_layer(Marker(location=(31.8841,243.413)))\nm\n```\n\n::: {#fig-widgets .cell-output .cell-output-display execution_count=2}\n```{=html}\n<script type=\"application/vnd.jupyter.widget-view+json\">\n{\"model_id\":\"f02a8ddd196444838639acfb127b9aad\",\"version_major\":2,\"version_minor\":0,\"quarto_mimetype\":\"application/vnd.jupyter.widget-view+json\"}\n</script>\n```\n\nA widgets demo\n:::\n:::\n\n\n## XARRAY\n\n::: {.cell execution_count=3}\n``` {.python .cell-code}\nimport xarray as xr\nimport numpy as np\nimport matplotlib.pyplot as plt\nimport cartopy.crs as ccrs\nfrom matplotlib.animation import FuncAnimation\nvariables=['u-component_of_wind_height_above_ground','v-component_of_wind_height_above_ground']\ndsw=xr.open_dataset('https://thredds.ucar.edu/thredds/dodsC/grib/NCEP/GFS/Global_0p25deg/Best')[variables]\nfrom datetime import datetime, timedelta\nstarttime=datetime.utcnow()\nstarttime\ninittime = datetime.utcnow().date().isoformat()   ### Simulation startime..\nendtime = starttime + timedelta(days=10)\nfinaltime=endtime.date().isoformat()\nprint(inittime)\nprint(finaltime)\nlat_toplot = np.arange(5, 35.25, 0.25) # last number is exclusive\nlon_toplot = np.arange(260, 310.25, 0.25) # last number is exclusive\ndataw= dsw.sel(time=slice(inittime,finaltime),height_above_ground2=10, lon=lon_toplot, lat=lat_toplot)\nu10=dataw['u-component_of_wind_height_above_ground'].values\nv10=dataw['v-component_of_wind_height_above_ground'].values\nlon=dataw.lon.values\nlat=dataw.lat.values\nl=10\nU10=u10[l,:,:].squeeze()\nV10=v10[l,:,:].squeeze()\nvec_crs = ccrs.RotatedPole(pole_longitude=180.0, pole_latitude=90.0)\n#central_rotated_longitude=0.0)\ndata_crs=ccrs.PlateCarree()\nprint(dataw.time[l])\nfig = plt.figure(figsize=(20,5))\nax1 = fig.add_subplot(1, 1, 1, projection=ccrs.PlateCarree())\nax1.set_extent([260, 311, 4, 40], crs=ccrs.PlateCarree())\nax1.coastlines()\nmagnitude = (U10 ** 2 + V10 ** 2) ** 0.5\nmagnitude.shape\nax1.streamplot(lon, lat, U10, V10, transform=vec_crs,\n                  linewidth=2, density=2, color=magnitude)\nax1.quiver(lon[::5],lat[::5],U10[::5,::5],V10[::5,::5],scale=200.0,color='b',transform=data_crs)\nplt.show()\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n2023-12-26\n2024-01-05\n```\n:::\n\n::: {.cell-output .cell-output-stdout}\n```\n<xarray.DataArray 'time' ()>\narray('2023-12-27T06:00:00.000000000', dtype='datetime64[ns]')\nCoordinates:\n    time                  datetime64[ns] 2023-12-27T06:00:00\n    reftime               datetime64[ns] ...\n    height_above_ground2  float32 10.0\nAttributes:\n    standard_name:        time\n    long_name:            GRIB forecast or observation time\n    _CoordinateAxisType:  Time\n```\n:::\n\n::: {.cell-output .cell-output-display}\n![xarray demo](chap1_files/figure-html/xarray-plot-output-3.png){#xarray-plot width=543 height=389}\n:::\n:::\n\n\n",
    "supporting": [
      "chap1_files"
    ],
    "filters": [],
    "includes": {
      "include-in-header": [
        "<script src=\"https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js\" integrity=\"sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==\" crossorigin=\"anonymous\"></script>\n<script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js\" integrity=\"sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==\" crossorigin=\"anonymous\"></script>\n<script type=\"application/javascript\">define('jquery', [],function() {return window.jQuery;})</script>\n<script src=\"https://unpkg.com/@jupyter-widgets/html-manager@*/dist/embed-amd.js\" crossorigin=\"anonymous\"></script>\n"
      ],
      "include-after-body": [
        "<script type=application/vnd.jupyter.widget-state+json>\n{\"state\":{\"041c16019f39400b8f01a4fec4efa90f\":{\"model_module\":\"jupyter-leaflet\",\"model_module_version\":\"^0.17\",\"model_name\":\"LeafletMapStyleModel\",\"state\":{\"_model_module\":\"jupyter-leaflet\",\"_model_module_version\":\"^0.17\",\"_model_name\":\"LeafletMapStyleModel\",\"_view_count\":null,\"_view_module\":\"@jupyter-widgets/base\",\"_view_module_version\":\"2.0.0\",\"_view_name\":\"StyleView\",\"cursor\":\"move\"}},\"0a1d609c89ea45daba5a8968ed3c6eee\":{\"model_module\":\"jupyter-leaflet\",\"model_module_version\":\"^0.17\",\"model_name\":\"LeafletMapStyleModel\",\"state\":{\"_model_module\":\"jupyter-leaflet\",\"_model_module_version\":\"^0.17\",\"_model_name\":\"LeafletMapStyleModel\",\"_view_count\":null,\"_view_module\":\"@jupyter-widgets/base\",\"_view_module_version\":\"2.0.0\",\"_view_name\":\"StyleView\",\"cursor\":\"grab\"}},\"1decd3fc6b124ced917dcc6eff30c20e\":{\"model_module\":\"@jupyter-widgets/base\",\"model_module_version\":\"2.0.0\",\"model_name\":\"LayoutModel\",\"state\":{\"_model_module\":\"@jupyter-widgets/base\",\"_model_module_version\":\"2.0.0\",\"_model_name\":\"LayoutModel\",\"_view_count\":null,\"_view_module\":\"@jupyter-widgets/base\",\"_view_module_version\":\"2.0.0\",\"_view_name\":\"LayoutView\",\"align_content\":null,\"align_items\":null,\"align_self\":null,\"border_bottom\":null,\"border_left\":null,\"border_right\":null,\"border_top\":null,\"bottom\":null,\"display\":null,\"flex\":null,\"flex_flow\":null,\"grid_area\":null,\"grid_auto_columns\":null,\"grid_auto_flow\":null,\"grid_auto_rows\":null,\"grid_column\":null,\"grid_gap\":null,\"grid_row\":null,\"grid_template_areas\":null,\"grid_template_columns\":null,\"grid_template_rows\":null,\"height\":null,\"justify_content\":null,\"justify_items\":null,\"left\":null,\"margin\":null,\"max_height\":null,\"max_width\":null,\"min_height\":null,\"min_width\":null,\"object_fit\":null,\"object_position\":null,\"order\":null,\"overflow\":null,\"padding\":null,\"right\":null,\"top\":null,\"visibility\":null,\"width\":null}},\"2336a3d2cdfe4ec1b669ecb5c6e6e8d5\":{\"model_module\":\"jupyter-leaflet\",\"model_module_version\":\"^0.17\",\"model_name\":\"LeafletTileLayerModel\",\"state\":{\"_model_module\":\"jupyter-leaflet\",\"_model_module_version\":\"^0.17\",\"_model_name\":\"LeafletTileLayerModel\",\"_view_count\":null,\"_view_module\":\"jupyter-leaflet\",\"_view_module_version\":\"^0.17\",\"_view_name\":\"LeafletTileLayerView\",\"attribution\":\"Imagery provided by services from the Global Imagery Browse Services (GIBS), operated by the NASA/GSFC/Earth Science Data and Information System (<a href=\\\"https://earthdata.nasa.gov\\\">ESDIS</a>) with funding provided by NASA/HQ.\",\"base\":true,\"bottom\":true,\"bounds\":null,\"detect_retina\":false,\"loading\":false,\"max_native_zoom\":null,\"max_zoom\":9,\"min_native_zoom\":null,\"min_zoom\":1,\"name\":\"NASAGIBS.ModisTerraTrueColorCR\",\"no_wrap\":false,\"opacity\":1,\"options\":[\"attribution\",\"bounds\",\"detect_retina\",\"max_native_zoom\",\"max_zoom\",\"min_native_zoom\",\"min_zoom\",\"no_wrap\",\"tile_size\",\"tms\",\"zoom_offset\"],\"pane\":\"\",\"popup\":null,\"popup_max_height\":null,\"popup_max_width\":300,\"popup_min_width\":50,\"show_loading\":false,\"subitems\":[],\"tile_size\":256,\"tms\":false,\"url\":\"https://map1.vis.earthdata.nasa.gov/wmts-webmerc/MODIS_Terra_CorrectedReflectance_TrueColor/default/2023-05-27/GoogleMapsCompatible_Level9/{z}/{y}/{x}.jpg\",\"visible\":true,\"zoom_offset\":0}},\"2eed199359b54c8c978763139ef95537\":{\"model_module\":\"jupyter-leaflet\",\"model_module_version\":\"^0.17\",\"model_name\":\"LeafletMapStyleModel\",\"state\":{\"_model_module\":\"jupyter-leaflet\",\"_model_module_version\":\"^0.17\",\"_model_name\":\"LeafletMapStyleModel\",\"_view_count\":null,\"_view_module\":\"@jupyter-widgets/base\",\"_view_module_version\":\"2.0.0\",\"_view_name\":\"StyleView\",\"cursor\":\"grab\"}},\"9a14d8f0f74e4b66acb2045b5335b458\":{\"model_module\":\"jupyter-leaflet\",\"model_module_version\":\"^0.17\",\"model_name\":\"LeafletMarkerModel\",\"state\":{\"_model_module\":\"jupyter-leaflet\",\"_model_module_version\":\"^0.17\",\"_model_name\":\"LeafletMarkerModel\",\"_view_count\":null,\"_view_module\":\"jupyter-leaflet\",\"_view_module_version\":\"^0.17\",\"_view_name\":\"LeafletMarkerView\",\"alt\":\"\",\"base\":false,\"bottom\":false,\"draggable\":true,\"icon\":null,\"keyboard\":true,\"location\":[31.8841,243.413],\"name\":\"\",\"opacity\":1,\"options\":[\"alt\",\"draggable\",\"keyboard\",\"rise_offset\",\"rise_on_hover\",\"rotation_angle\",\"rotation_origin\",\"title\",\"z_index_offset\"],\"pane\":\"\",\"popup\":null,\"popup_max_height\":null,\"popup_max_width\":300,\"popup_min_width\":50,\"rise_offset\":250,\"rise_on_hover\":false,\"rotation_angle\":0,\"rotation_origin\":\"\",\"subitems\":[],\"title\":\"\",\"visible\":true,\"z_index_offset\":0}},\"bffcc7ca999a4b529721e15099601c37\":{\"model_module\":\"jupyter-leaflet\",\"model_module_version\":\"^0.17\",\"model_name\":\"LeafletAttributionControlModel\",\"state\":{\"_model_module\":\"jupyter-leaflet\",\"_model_module_version\":\"^0.17\",\"_model_name\":\"LeafletAttributionControlModel\",\"_view_count\":null,\"_view_module\":\"jupyter-leaflet\",\"_view_module_version\":\"^0.17\",\"_view_name\":\"LeafletAttributionControlView\",\"options\":[\"position\",\"prefix\"],\"position\":\"bottomright\",\"prefix\":\"ipyleaflet\"}},\"f02a8ddd196444838639acfb127b9aad\":{\"model_module\":\"jupyter-leaflet\",\"model_module_version\":\"^0.17\",\"model_name\":\"LeafletMapModel\",\"state\":{\"_dom_classes\":[],\"_model_module\":\"jupyter-leaflet\",\"_model_module_version\":\"^0.17\",\"_model_name\":\"LeafletMapModel\",\"_view_count\":null,\"_view_module\":\"jupyter-leaflet\",\"_view_module_version\":\"^0.17\",\"_view_name\":\"LeafletMapView\",\"bottom\":0,\"bounce_at_zoom_limits\":true,\"box_zoom\":true,\"center\":[31.8841,243.413],\"close_popup_on_click\":true,\"controls\":[\"IPY_MODEL_fec9ce7218de48f28ab20abaa568aa2a\",\"IPY_MODEL_bffcc7ca999a4b529721e15099601c37\"],\"crs\":{\"custom\":false,\"name\":\"EPSG3857\"},\"default_style\":\"IPY_MODEL_0a1d609c89ea45daba5a8968ed3c6eee\",\"double_click_zoom\":true,\"dragging\":true,\"dragging_style\":\"IPY_MODEL_041c16019f39400b8f01a4fec4efa90f\",\"east\":0,\"fullscreen\":false,\"inertia\":true,\"inertia_deceleration\":3000,\"inertia_max_speed\":1500,\"interpolation\":\"bilinear\",\"keyboard\":true,\"keyboard_pan_offset\":80,\"keyboard_zoom_offset\":1,\"layers\":[\"IPY_MODEL_2336a3d2cdfe4ec1b669ecb5c6e6e8d5\",\"IPY_MODEL_9a14d8f0f74e4b66acb2045b5335b458\"],\"layout\":\"IPY_MODEL_1decd3fc6b124ced917dcc6eff30c20e\",\"left\":9007199254740991,\"max_zoom\":null,\"min_zoom\":null,\"modisdate\":\"2023-12-25\",\"north\":0,\"options\":[\"bounce_at_zoom_limits\",\"box_zoom\",\"center\",\"close_popup_on_click\",\"double_click_zoom\",\"dragging\",\"fullscreen\",\"inertia\",\"inertia_deceleration\",\"inertia_max_speed\",\"interpolation\",\"keyboard\",\"keyboard_pan_offset\",\"keyboard_zoom_offset\",\"max_zoom\",\"min_zoom\",\"prefer_canvas\",\"scroll_wheel_zoom\",\"tap\",\"tap_tolerance\",\"touch_zoom\",\"world_copy_jump\",\"zoom\",\"zoom_animation_threshold\",\"zoom_delta\",\"zoom_snap\"],\"panes\":{},\"prefer_canvas\":false,\"right\":0,\"scroll_wheel_zoom\":false,\"south\":0,\"style\":\"IPY_MODEL_2eed199359b54c8c978763139ef95537\",\"tabbable\":null,\"tap\":true,\"tap_tolerance\":15,\"tooltip\":null,\"top\":9007199254740991,\"touch_zoom\":true,\"west\":0,\"window_url\":\"\",\"world_copy_jump\":false,\"zoom\":4,\"zoom_animation_threshold\":4,\"zoom_delta\":1,\"zoom_snap\":1}},\"fec9ce7218de48f28ab20abaa568aa2a\":{\"model_module\":\"jupyter-leaflet\",\"model_module_version\":\"^0.17\",\"model_name\":\"LeafletZoomControlModel\",\"state\":{\"_model_module\":\"jupyter-leaflet\",\"_model_module_version\":\"^0.17\",\"_model_name\":\"LeafletZoomControlModel\",\"_view_count\":null,\"_view_module\":\"jupyter-leaflet\",\"_view_module_version\":\"^0.17\",\"_view_name\":\"LeafletZoomControlView\",\"options\":[\"position\",\"zoom_in_text\",\"zoom_in_title\",\"zoom_out_text\",\"zoom_out_title\"],\"position\":\"topleft\",\"zoom_in_text\":\"+\",\"zoom_in_title\":\"Zoom in\",\"zoom_out_text\":\"-\",\"zoom_out_title\":\"Zoom out\"}}},\"version_major\":2,\"version_minor\":0}\n</script>\n"
      ]
    }
  }
}